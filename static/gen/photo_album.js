Component=function(container){this.container=container;this.subs={};};Component.prototype.pub=function(event){if(this.subs[event]){var data=Array.prototype.slice.call(arguments,1);data.unshift(event);for(var i=0;i<this.subs[event].length;i++){this.subs[event][i].apply(this,data);}}};Component.prototype.sub=function(event){for(var i=1;i<arguments.length;i++){this.subs[event]=this.subs[event]||[];this.subs[event].push(arguments[i]);}};Component.prototype.get=function(key){return this.ATTRS[key];};Component.prototype.set=function(key,value){var eventName=key+'_change';this.ATTRS[key]=value;this.pub(this.Event[eventName.toUpperCase()]);};Component.prototype.show=function(){var wasHidden=!this.isVisible();this.container.show();if(wasHidden){}};Component.prototype.hide=function(){var wasVisible=this.isVisible();this.container.hide();if(wasVisible){}};Component.prototype.setChildComponent=function(name,component){this[name]=component;};Component.prototype.isVisible=function(){return this.container.is(':visible');};Component.prototype.cssName=function(){return this.toString().replace(/\./g,'-').toLowerCase();};Component.attach=function(component,afterCreate){return $.map($('[data-component="'+component.prototype.cssName()+'"]'),function(idx,el){return new component($(container));});};Component=function(container){this.container=container;this.subs={};};Component.prototype.pub=function(event){if(this.subs[event]){var data=Array.prototype.slice.call(arguments,1);data.unshift(event);for(var i=0;i<this.subs[event].length;i++){this.subs[event][i].apply(this,data);}}};Component.prototype.sub=function(event){for(var i=1;i<arguments.length;i++){this.subs[event]=this.subs[event]||[];this.subs[event].push(arguments[i]);}};Component.prototype.get=function(key){return this.ATTRS[key];};Component.prototype.set=function(key,value){var eventName=key+'_change';this.ATTRS[key]=value;this.pub(this.Event[eventName.toUpperCase()]);};Component.prototype.show=function(){var wasHidden=!this.isVisible();this.container.show();if(wasHidden){}};Component.prototype.hide=function(){var wasVisible=this.isVisible();this.container.hide();if(wasVisible){}};Component.prototype.setChildComponent=function(name,component){this[name]=component;};Component.prototype.isVisible=function(){return this.container.is(':visible');};Component.prototype.cssName=function(){return this.toString().replace(/\./g,'-').toLowerCase();};Component.attach=function(component,afterCreate){return $.map($('[data-component="'+component.prototype.cssName()+'"]'),function(idx,el){return new component($(container));});};var ScrollWatcher=function(slider){this.slider=slider;this._locked=false;$(document).on('mousewheel DOMMouseScroll',$.proxy(this.onMouseWheel,this));};ScrollWatcher.prototype.SCROLL_DURATION=1200;ScrollWatcher.prototype.onMouseWheel=function(event){var self=this;var delta=event.originalEvent.wheelDeltaY||-1*event.originalEvent.deltaY;event.preventDefault();event.stopPropagation();if(this._locked){return;}
this._locked=true;if(delta>0){this.slider.prev();}else{this.slider.next();}
setTimeout(function(){self._locked=false;},this.SCROLL_DURATION);};var inherit=function(childCtor,parentCtor){function tempCtor(){};tempCtor.prototype=parentCtor.prototype;childCtor.superClass_=parentCtor.prototype;childCtor.prototype=new tempCtor();childCtor.prototype.constructor=childCtor;};VerticalSlides=function(container,options){Component.call(this,container);var self=this;var defaults={nav:false,fullScreen:true,title:'',track:true,reflowOnResize:true,next:true,loadingScreen:false,lockScroll:false,fullSlideClick:false,loadedFunction:function(){}};this.settings=$.extend({},defaults,options);this.index=0;this.container=container;this.slides=this.container.find('> li');this.count=this.slides.length;this.waypointElements=$();this.buildDOM();if(this.settings.fullScreen){$(window).load($.proxy(this.setSectionHeight,this));if(this.settings.reflowOnResize){$(window).resize($.proxy(this.setSectionHeight,this));}}
if(this.settings.lockScroll){var scrollWatcher=new ScrollWatcher(this);}
$(window).load($.proxy(this.bindWaypoint,this));$.proxy(this.settings.loadedFunction,this)();if(this.settings.fullSlideClick){this.slides.on('click',$.proxy(this.onSlideClick,this));}
if(this.settings.next){this.settings.next.on('click',$.proxy(this.onNextClick,this));}
$(document.body).on('keyup',$.proxy(this.onKeyUp,this));};inherit(VerticalSlides,Component);VerticalSlides.prototype.Event={SLIDE:'slide',LOADED:'loaded'};VerticalSlides.prototype.bindWaypoint=function(){var self=this;this.slides.waypoint(function(direction){self.onSlidePassThrough($(this),direction);});this.waypointElements=this.waypointElements.add(this.slides);};VerticalSlides.prototype.onNavigate=function(){this.scroll(this.slides.eq(this.nav.index).offset().top);this.setControls(this.nav.index);};VerticalSlides.prototype.onNextClick=function(){this.next();};VerticalSlides.prototype.onSlideClick=function(event){this.next();};VerticalSlides.prototype.onKeyUp=function(event){if(event.which===32){this.next();}};VerticalSlides.prototype.next=function(){var nextIndex=this.index+1;if(this.count>nextIndex){this.scroll(this.slides.eq(nextIndex).offset().top);this.setControls(nextIndex);}};VerticalSlides.prototype.prev=function(){var prevIndex=this.index-1;if(prevIndex>-1){this.scroll(this.slides.eq(prevIndex).offset().top);this.setControls(prevIndex);}};VerticalSlides.prototype.onSlidePassThrough=function(element){this.setControls(this.slides.index(element));};VerticalSlides.prototype.scroll=function(offset){var self=this;this.waypointElements.waypoint('disable');$('html, body').animate({scrollTop:offset},550,'easeOutCirc',function(){self.waypointElements.waypoint('enable');});};VerticalSlides.prototype.setControls=function(index){var self=this;this.index=index;if(this.settings.nav){this.nav.set(index);}
if(this.settings.next){if(this.count-1===index){this.settings.next.hide();}else{this.settings.next.show();if(index!==0){}}}
this.pub(this.Event.SLIDE,this.index);};VerticalSlides.prototype.setSectionHeight=function(event){this.slides.css({height:$(window).outerHeight()});};VerticalSlides.prototype.hideLoadingScreen=function(event){this.settings.loadingScreen.fadeOut();this.pub(this.Event.LOADED);};VerticalSlides.prototype.buildDOM=function(event){if(this.settings.next===true){this.settings.next=$('<a href="javascript:;" class="vertical-slides-next bottom">Click to Continue</a>').appendTo(document.body);}
if(this.settings.nav===true){this.settings.nav=$('<ul />').addClass('vertical-slides-nav vertical-center').appendTo(document.body);}};Flickr={initialize:function(key){this._key=key||Flickr.API_KEY;return this;},call:function(method,params,callback,scope){method=/^flickr\./.test(method)?method:'flickr.'+method;params=$.extend({},{method:method,api_key:this._key,jsonp:true,crossDomain:true,format:'json',id:'48016199@N07',dataType:'jsonp',jsoncallback:'__hey__'},params||{});window.__hey__=function(resp){return callback(resp);};$.ajax(Flickr.REST_ENDPOINT+'?'+$.param(params)+'&extras=url_l,description,media,url_o,url_n,url_z',params);},feed:function(path,params,callback,scope){path=/\.gne$/.test(path)?path:path+'.gne';Flickr.JSONP.request(Flickr.FEED_ENDPOINT+path,params,callback,scope);},findByUsername:function(username,callback,scope){this.call('people.findByUsername',{username:username},callback,scope);},getUserId:function(username,callback,scope){this.findByUsername(username,function(data){callback.call(scope,data.user.id);});},publicPhotos:function(id,callback,scope){var extras=['media','description','o_url'].join(',');this.call('people.getPublicPhotos',{user_id:id,extras:extras},callback,scope);},getPublicPhotos:function(id,callback,scope){var wrap=this._wrapPhotos;this.publicPhotos(id,function(data){callback.call(scope,wrap(data.photos,'photo'));});},photosOf:function(id,callback,scope){this.call('people.getPhotosOf',{user_id:id},callback,scope);},getPhotosOf:function(id,callback,scope){var wrap=this._wrapPhotos;this.photosOf(id,function(data){callback.call(scope,wrap(data.photos,'photo'));});},getFavourites:function(id,callback,scope){var wrap=this._wrapPhotos;this.photoFavourites(id,function(data){callback.call(scope,wrap(data));});},_wrapPhotos:function(data,name){name=name||'items';var photos=[];for(var i=0,n=data[name].length;i<n;i++)
photos.push(new Flickr.Photo(data[name][i]));return photos;},API_KEY:null,REST_ENDPOINT:'http://api.flickr.com/services/rest/',FEED_ENDPOINT:'http://api.flickr.com/services/feeds/'};Instagram={get:function(userId,callback){window.__instagramCallback__=function(feed){callback(feed);};var params={client_id:'9d1fc7a0a5a34f9ab49bf4511b7ed26d',crossDomain:true,dataType:'script',jsoncallback:'__instagramCallback__',callback:'__instagramCallback__'};$.ajax('https://api.instagram.com/v1/users/'+userId+'/media/recent/?'+$.param(params),params);}};